# UV-Meter

## 프로젝트 기간
2023.03.09~2023.06.09

## 개요
UV-Meter는 자외선(UV) 지수를 측정하고 이를 사용자에게 시각적으로 제공하는 휴대용 장치입니다. 이 프로젝트에서는 DFRobot RGB LCD 1602와 GUVA-S12SD UV 센서를 사용하여 자외선 강도를 측정하고 이를 LCD에 표시하는 장치를 개발하였습니다. 자외선 지수는 사용자가 버튼을 누르면 측정할 수 있으며, 측정된 결과에 따라 LCD의 색상이 바뀌어 자외선 강도의 안전도를 알려줍니다.

## 주요 기능
1. **UV 지수 측정**: UV 센서를 통해 현재 자외선 강도를 측정하고, 이를 지수 값으로 변환하여 사용자에게 표시합니다.
2. **상태 표시**: 자외선 지수에 따라 LCD에 "Safe", "Alert", "Danger"로 상태를 표시합니다.
    - **Safe (안전)**: 자외선 지수가 0~5 사이일 때, 녹색 표시등이 켜지며 "Safe" 상태를 표시합니다.
    - **Alert (경고)**: 자외선 지수가 6~10 사이일 때, 노란색 표시등이 켜지며 "Alert" 상태를 표시합니다.
    - **Danger (위험)**: 자외선 지수가 11 이상일 때, 빨간색 표시등이 켜지며 "Danger" 상태를 표시합니다.
3. **버튼 인터페이스**: 측정 시작 및 단계 전환은 버튼을 통해 수행되며, 각 단계에서 LCD의 메시지가 달라집니다.

## 하드웨어 구성 요소
- **DFRobot RGB LCD1602**: 측정 결과 및 상태를 시각적으로 제공하기 위한 16x2 LCD 디스플레이입니다.
- **GUVA-S12SD UV 센서**: 자외선 강도를 측정하여 아날로그 값을 출력합니다.
- **아두이노 보드**: 전체 시스템의 제어를 담당합니다.

## 코드 설명
- **라이브러리 및 핀 정의**: DFRobot_RGBLCD1602 라이브러리를 사용하여 LCD 디스플레이를 제어하고, UV 센서와 버튼 핀을 정의합니다.
- **변수 정의**: `I_B`는 버튼을 누를 때마다 변경되는 상태 변수이며, `I_uv_index`와 `sensor_St`는 측정된 UV 지수와 상태를 저장합니다.
- **Setup() 함수**: LCD 초기화, UV 센서 및 버튼의 핀 모드를 설정합니다. 시작 시 "Portable UV Radiometer" 메시지를 표시합니다.
- **Loop() 함수**: 버튼 상태에 따라 다양한 작업을 수행합니다.
  1. **대기 상태**: "Want to Measure?" 메시지를 표시하고 사용자가 버튼을 누르기를 기다립니다.
  2. **UV 센서 측정**: 버튼을 누르면 자외선 강도를 측정하고 LCD에 결과를 표시합니다. 측정된 UV 지수에 따라 색상과 상태를 달리 표시합니다.
  3. **측정 결과 표시**: UV 지수와 상태를 LCD에 표시합니다.
  4. **LCD 끄기**: "LCD OFF" 메시지를 보여주고, LCD 백라이트를 끕니다.

## 사용법
1. 장치를 켜고 버튼을 누르면 "Want to Measure?" 메시지가 나타납니다.
2. 버튼을 다시 누르면 UV 센서가 자외선을 측정하고, 결과를 LCD에 표시합니다.
3. 측정이 완료되면 "UV Index"와 상태(Safe, Alert, Danger)가 LCD에 표시됩니다.
4. 추가 버튼 누름으로 LCD를 끌 수 있습니다.

## 코드 스니펫 예시
```cpp
if (digitalRead(BUTTON) == LOW) {
    switch (I_B) {
        case (1):
            lcd.print("Want to Measure?");
            break;
        case (2):
            lcd.print("UV SENSING...");
            // 측정 및 출력 로직
            break;
        case (3):
            lcd.print("UV Index:");
            lcd.print(I_uv_index);
            break;
        case (4):
            lcd.print("LCD OFF");
            lcd.setBacklight(false);
            break;
    }
    if (I_B < 4) I_B += 1;
    else I_B = 0;
}
```

## 개선 가능성
- **자외선 감지 정확도 개선**: 다양한 환경 조건에서 정확한 측정을 위해 보정 기능 추가.
- **전력 관리 기능**: 배터리 수명을 늘리기 위해 절전 모드 추가 고려.
- **모바일 앱 연동**: 측정 데이터를 블루투스 등을 통해 모바일 장치와 연동하여 실시간 모니터링 가능.

## 프로젝트 결과
UV-Meter는 자외선 강도를 시각적으로 알리고, 사용자가 위험한 자외선 수준에 노출되지 않도록 돕기 위해 개발되었습니다. 이 장치는 휴대가 가능하고, 사용자 친화적인 인터페이스를 통해 일상 생활 속에서 유용하게 활용될 수 있습니다.
